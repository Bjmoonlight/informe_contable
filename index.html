<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informe Contable Interactivo - Servicio de Bienestar</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .card .amount {
            font-size: 1.8em;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 5px;
        }

        .card.warning .amount {
            color: #e74c3c;
        }

        .card.success .amount {
            color: #27ae60;
        }

        .navigation {
            background: #34495e;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: none;
            border: none;
            color: white;
            padding: 20px 30px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
            flex: 1;
            min-width: 200px;
        }

        .nav-btn:hover, .nav-btn.active {
            background: #3498db;
        }

        .content {
            padding: 30px;
            min-height: 400px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .table-container {
            overflow-x: auto;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }

        th {
            background: #34495e;
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .amount-cell {
            text-align: right;
            font-weight: bold;
            color: #2c3e50;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #3498db, #2980b9);
            transition: width 0.5s ease;
        }

        .alert {
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 5px solid;
        }

        .alert-warning {
            background: #fff3cd;
            border-color: #f39c12;
            color: #856404;
        }

        .alert-info {
            background: #d1ecf1;
            border-color: #3498db;
            color: #0c5460;
        }

        .alert-success {
            background: #d4edda;
            border-color: #27ae60;
            color: #155724;
        }

        .recommendation {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }

        .highlight {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .navigation {
                flex-direction: column;
            }
            
            .nav-btn {
                min-width: 100%;
            }
            
            .summary-cards {
                grid-template-columns: 1fr;
                padding: 20px;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 Informe Contable Interactivo</h1>
            <p>Servicio de Bienestar - RUT: 61.980.230-6</p>
        </div>

        <div class="summary-cards">
            <div class="card success">
                <h3>Total Ingresos</h3>
                <div class="amount">$108.478.452</div>
            </div>
            <div class="card">
                <h3>Total Gastos</h3>
                <div class="amount">$83.907.188</div>
            </div>
            <div class="card success">
                <h3>Resultado Neto</h3>
                <div class="amount">$24.571.264</div>
            </div>
            <div class="card warning">
                <h3>% Excedente</h3>
                <div class="amount">22.65%</div>
                <small>Máximo permitido: 20%</small>
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn active" onclick="showSection('resumen')">📈 Resumen Ejecutivo</button>
            <button class="nav-btn" onclick="showSection('ingresos')">💰 Ingresos</button>
            <button class="nav-btn" onclick="showSection('gastos')">💸 Gastos</button>
            <button class="nav-btn" onclick="showSection('presupuesto')">📋 Balance Presupuestario</button>
            <button class="nav-btn" onclick="showSection('analisis')">🔍 Análisis Detallado</button>
        </div>

        <div class="content">
            <!-- RESUMEN EJECUTIVO -->
            <div id="resumen" class="section active">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">📈 Resumen Ejecutivo</h2>
                
                <div class="highlight">
                    <h3>Análisis General del Estado Financiero</h3>
                    <p>La organización presenta un resultado neto positivo de <strong>$24.571.264</strong>, representando un excedente del <strong>22.65%</strong> sobre los ingresos totales.</p>
                </div>

                <div class="stat-grid">
                    <div class="stat-item">
                        <h4>💹 Situación Financiera</h4>
                        <p><strong>Total de Ingresos:</strong> $108.478.452</p>
                        <p><strong>Total de Gastos:</strong> $83.907.188</p>
                        <p><strong>Resultado Neto:</strong> $24.571.264</p>
                    </div>
                    <div class="stat-item">
                        <h4>📊 Indicadores Clave</h4>
                        <p><strong>Margen de Excedente:</strong> 22.65%</p>
                        <p><strong>Límite Regulatorio:</strong> 20%</p>
                        <p><strong>Estado de Cumplimiento:</strong> <span style="color: #e74c3c;">Excede límite</span></p>
                    </div>
                </div>

                <div class="alert alert-warning">
                    <strong>⚠️ Atención:</strong> El excedente supera el límite regulatorio del 20% establecido por el D.S. N°28. Se requiere implementar medidas correctivas.
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" style="width: 77.3%"></div>
                </div>
                <p style="text-align: center; margin-top: 10px;">Eficiencia en uso de recursos: 77.3%</p>
            </div>

            <!-- INGRESOS -->
            <div id="ingresos" class="section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">💰 Top 5 Cuentas de Ingresos</h2>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Ranking</th>
                                <th>Concepto</th>
                                <th>Monto</th>
                                <th>% del Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>🥇 1</td>
                                <td>Aportes Afiliados Activos</td>
                                <td class="amount-cell">$73.772.571</td>
                                <td class="amount-cell">68.0%</td>
                            </tr>
                            <tr>
                                <td>🥈 2</td>
                                <td>Aportes Institución</td>
                                <td class="amount-cell">$33.137.491</td>
                                <td class="amount-cell">30.5%</td>
                            </tr>
                            <tr>
                                <td>🥉 3</td>
                                <td>Intereses Ganados</td>
                                <td class="amount-cell">$833.916</td>
                                <td class="amount-cell">0.8%</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Aportes Afiliados Pasivos</td>
                                <td class="amount-cell">$375.040</td>
                                <td class="amount-cell">0.3%</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>Aporte de Incorporación</td>
                                <td class="amount-cell">$359.434</td>
                                <td class="amount-cell">0.3%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info">
                    <strong>💡 Análisis:</strong> Los aportes de afiliados activos e institución representan el 98.5% de los ingresos totales, mostrando una base financiera sólida y estable.
                </div>

                <div class="recommendation">
                    <h4>📋 Recomendaciones para Ingresos:</h4>
                    <ul>
                        <li>Diversificar fuentes de ingresos para reducir dependencia de aportes</li>
                        <li>Optimizar la gestión de intereses de préstamos personales</li>
                        <li>Implementar estrategias para aumentar aportes de incorporación</li>
                    </ul>
                </div>
            </div>

            <!-- GASTOS -->
            <div id="gastos" class="section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">💸 Top 5 Cuentas de Gastos</h2>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Ranking</th>
                                <th>Concepto</th>
                                <th>Monto</th>
                                <th>% del Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>🥇 1</td>
                                <td>Seguros</td>
                                <td class="amount-cell">$68.748.337</td>
                                <td class="amount-cell">81.9%</td>
                            </tr>
                            <tr>
                                <td>🥈 2</td>
                                <td>Escolaridad</td>
                                <td class="amount-cell">$9.000.000</td>
                                <td class="amount-cell">10.7%</td>
                            </tr>
                            <tr>
                                <td>🥉 3</td>
                                <td>Atenciones Odontológicas ISAPRE</td>
                                <td class="amount-cell">$3.087.666</td>
                                <td class="amount-cell">3.7%</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Cultura Física y Deportiva</td>
                                <td class="amount-cell">$944.350</td>
                                <td class="amount-cell">1.1%</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>Atenciones Odontológicas FONASA</td>
                                <td class="amount-cell">$870.000</td>
                                <td class="amount-cell">1.0%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info">
                    <strong>💡 Análisis:</strong> Los seguros representan el 81.9% del total de gastos, siendo el rubro más significativo. Los beneficios educativos ocupan el segundo lugar con 10.7%.
                </div>

                <div class="recommendation">
                    <h4>📋 Recomendaciones para Gastos:</h4>
                    <ul>
                        <li>Revisar la estructura de costos de seguros para optimizar el gasto</li>
                        <li>Evaluar el impacto y efectividad de los beneficios de escolaridad</li>
                        <li>Considerar renegociación de contratos con proveedores de seguros</li>
                        <li>Ampliar programas culturales y deportivos según disponibilidad presupuestaria</li>
                    </ul>
                </div>
            </div>

            <!-- BALANCE PRESUPUESTARIO -->
            <div id="presupuesto" class="section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">📋 Balance Presupuestario</h2>
                
                <div class="stat-grid">
                    <div class="stat-item">
                        <h4>📊 Resumen Presupuestario</h4>
                        <p><strong>Presupuesto Vigente:</strong> $284.425.260</p>
                        <p><strong>Presupuesto Ejecutado:</strong> $162.691.807</p>
                        <p><strong>Saldo Presupuestario:</strong> $121.733.453</p>
                    </div>
                    <div class="stat-item">
                        <h4>📈 Indicadores de Ejecución</h4>
                        <p><strong>% Ejecución:</strong> 57.2%</p>
                        <p><strong>% Saldo:</strong> 42.8%</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 57.2%"></div>
                        </div>
                    </div>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #2c3e50;">🔍 Ítems con Mayor Desviación</h3>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Concepto</th>
                                <th>Presupuesto</th>
                                <th>Ejecutado</th>
                                <th>Saldo</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Celebración de Navidad</td>
                                <td class="amount-cell">$42.663.538</td>
                                <td class="amount-cell">$0</td>
                                <td class="amount-cell">$42.663.538</td>
                                <td style="color: #e74c3c;">Sin ejecución</td>
                            </tr>
                            <tr>
                                <td>Beneficios Facultativos</td>
                                <td class="amount-cell">$46.663.538</td>
                                <td class="amount-cell">$1.615.785</td>
                                <td class="amount-cell">$45.047.753</td>
                                <td style="color: #f39c12;">Baja ejecución</td>
                            </tr>
                            <tr>
                                <td>Seguros</td>
                                <td class="amount-cell">$168.127.339</td>
                                <td class="amount-cell">$68.748.337</td>
                                <td class="amount-cell">$99.379.002</td>
                                <td style="color: #f39c12;">Ejecución parcial</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-warning">
                    <strong>⚠️ Alerta Presupuestaria:</strong> La baja ejecución del 57.2% indica problemas potenciales en la planificación o implementación de actividades programadas.
                </div>
            </div>

            <!-- ANÁLISIS DETALLADO -->
            <div id="analisis" class="section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">🔍 Análisis Detallado y Recomendaciones</h2>
                
                <div class="highlight">
                    <h3>📝 Interpretación de Resultados y Sugerencias de Mejora</h3>
                    <p>Este análisis proporciona una evaluación integral del desempeño financiero y recomendaciones estratégicas para optimizar la gestión de recursos.</p>
                </div>

                <h3 style="color: #e74c3c; margin: 30px 0 15px 0;">🚨 Hallazgos Críticos</h3>
                
                <div class="alert alert-warning">
                    <h4>1. Excedente sobre límite regulatorio</h4>
                    <p>El excedente del <strong>22.65%</strong> supera el límite máximo permitido del <strong>20%</strong> según el D.S. N°28. Se requiere acción correctiva inmediata para cumplir con la normativa vigente.</p>
                </div>

                <div class="alert alert-warning">
                    <h4>2. Baja ejecución presupuestaria</h4>
                    <p>Solo se ejecutó el <strong>57.2%</strong> del presupuesto vigente, indicando posibles problemas en la planificación o ejecución de actividades programadas.</p>
                </div>

                <h3 style="color: #27ae60; margin: 30px 0 15px 0;">✅ Recomendaciones Estratégicas</h3>
                
                <div class="recommendation">
                    <h4>🔄 1. Redistribución de Excedentes</h4>
                    <p>Implementar un plan integral para redistribuir el excedente a través de:</p>
                    <ul>
                        <li>Ampliación de beneficios médicos y odontológicos</li>
                        <li>Mejoras en los servicios existentes</li>
                        <li>Nuevos programas de bienestar para afiliados</li>
                        <li>Fortalecimiento del programa de becas de estudio</li>
                    </ul>
                </div>

                <div class="recommendation">
                    <h4>📊 2. Optimización Presupuestaria</h4>
                    <p>Revisar y ajustar las proyecciones presupuestarias para el próximo período:</p>
                    <ul>
                        <li>Reajustar presupuesto de celebración de Navidad</li>
                        <li>Evaluar viabilidad de beneficios facultativos</li>
                        <li>Optimizar cronograma de ejecución de seguros</li>
                        <li>Implementar presupuestos más realistas basados en ejecución histórica</li>
                    </ul>
                </div>

                <div class="recommendation">
                    <h4>📈 3. Monitoreo Continuo</h4>
                    <p>Establecer un sistema de seguimiento y control:</p>
                    <ul>
                        <li>Reportes mensuales de ejecución presupuestaria</li>
                        <li>Alertas tempranas para desviaciones significativas</li>
                        <li>Comité de seguimiento financiero</li>
                        <li>Indicadores de gestión en tiempo real</li>
                    </ul>
                </div>

                <div class="alert alert-success">
                    <h4>🎯 Plan de Acción Prioritario</h4>
                    <p><strong>Inmediato (30 días):</strong> Elaborar propuesta de redistribución de excedentes</p>
                    <p><strong>Corto plazo (90 días):</strong> Implementar sistema de monitoreo mensual</p>
                    <p><strong>Mediano plazo (6 meses):</strong> Reestructurar presupuesto 2026 con base en análisis actual</p>
                </div>

                <div class="stat-grid">
                    <div class="stat-item">
                        <h4>📊 Indicadores de Eficiencia</h4>
                        <p><strong>Eficiencia de Gastos:</strong> 77.3%</p>
                        <p><strong>Margen de Seguridad:</strong> 22.7%</p>
                        <p><strong>Índice de Liquidez:</strong> Excelente</p>
                    </div>
                    <div class="stat-item">
                        <h4>🎯 Metas Propuestas</h4>
                        <p><strong>Reducir excedente a:</strong> 19%</p>
                        <p><strong>Aumentar ejecución a:</strong> 85%</p>
                        <p><strong>Diversificar ingresos:</strong> +5%</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showSection(sectionId) {
            // Ocultar todas las secciones
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Remover clase active de todos los botones
            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Mostrar la sección seleccionada
            document.getElementById(sectionId).classList.add('active');
            
            // Activar el botón correspondiente
            event.target.classList.add('active');
        }

        // Animación de carga para las barras de progreso
        window.addEventListener('load', function() {
            setTimeout(() => {
                const progressBars = document.querySelectorAll('.progress-fill');
                progressBars.forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 100);
                });
            }, 500);
        });

        // Función para formatear números como moneda chilena
        function formatCurrency(amount) {
            return new Intl.NumberFormat('es-CL', {
                style: 'currency',
                currency: 'CLP'
            }).format(amount);
        }

        // Animación suave al cambiar secciones
        document.addEventListener('DOMContentLoaded', function() {
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Smooth scroll to top of content
                    document.querySelector('.content').scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
